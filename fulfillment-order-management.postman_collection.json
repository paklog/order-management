{
	"info": {
		"_postman_id": "9d4a0f80-8f6e-4b8e-9c8d-0a1b2c3d4e5f",
		"name": "Fulfillment Order Management API",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"description": "API for managing the lifecycle of fulfillment orders."
	},
	"item": [
		{
			"name": "Create a new Fulfillment Order",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Idempotency-Key",
						"value": "{{idempotency_key}}",
						"description": "Unique key supplied by the client to make this call idempotent"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"seller_fulfillment_order_id\": \"seller-{{$guid}}\",\n  \"displayable_order_id\": \"cust-{{$randomAlphaNumeric}}\",\n  \"displayable_order_date\": \"{{$isoTimestamp}}\",\n  \"displayable_order_comment\": \"{{$randomCatchPhrase}}\",\n  \"shipping_speed_category\": \"STANDARD\",\n  \"destination_address\": {\n    \"name\": \"{{$randomFullName}}\",\n    \"address_line_1\": \"{{$randomStreetAddress}}\",\n    \"address_line_2\": \"Unit {{$randomInt}}\",\n    \"city\": \"{{$randomCity}}\",\n    \"state_or_region\": \"{{$randomState}}\",\n    \"postal_code\": \"{{$randomZipCode}}\",\n    \"country_code\": \"{{$randomCountryCode}}\"\n  },\n  \"items\": [\n    {\n      \"seller_sku\": \"{{seller_sku}}\",\n      \"seller_fulfillment_order_item_id\": \"line-item-{{$guid}}\",\n      \"quantity\": 2,\n      \"gift_message\": \"{{$randomCatchPhrase}}\",\n      \"displayable_comment\": \"{{$randomLoremSentence}}\"\n    }\n  ]\n}"
				},
				"url": {
					"raw": "http://localhost:8080/fulfillment_orders",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						"fulfillment_orders"
					]
				},
				"description": "Submits a new fulfillment order to the system. Provide an `Idempotency-Key` header so retries return the same result without creating duplicates. If an order with the same payload `seller_fulfillment_order_id` already exists, a 409 Conflict will be returned."
			},
			"response": [
				{
					"name": "Accepted",
					"originalRequest": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/fulfillment_orders",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"fulfillment_orders"
							]
						}
					},
					"status": "Accepted",
					"code": 202,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n  \"order_id\": \"{{$guid}}\",\n  \"seller_fulfillment_order_id\": \"seller-{{$guid}}\",\n  \"displayable_order_id\": \"cust-{{$randomAlphaNumeric}}\",\n  \"displayable_order_date\": \"{{$isoTimestamp}}\",\n  \"displayable_order_comment\": \"{{$randomCatchPhrase}}\",\n  \"shipping_speed_category\": \"STANDARD\",\n  \"destination_address\": {\n    \"name\": \"{{$randomFullName}}\",\n    \"address_line_1\": \"{{$randomStreetAddress}}\",\n    \"address_line_2\": \"Unit {{$randomInt}}\",\n    \"city\": \"{{$randomCity}}\",\n    \"state_or_region\": \"{{$randomState}}\",\n    \"postal_code\": \"{{$randomZipCode}}\",\n    \"country_code\": \"{{$randomCountryCode}}\"\n  },\n  \"status\": \"RECEIVED\",\n  \"items\": [\n    {\n      \"seller_sku\": \"{{seller_sku}}\",\n      \"seller_fulfillment_order_item_id\": \"line-item-{{$guid}}\",\n      \"quantity\": 2,\n      \"gift_message\": \"{{$randomCatchPhrase}}\",\n      \"displayable_comment\": \"{{$randomLoremSentence}}\"\n    }\n  ],\n  \"received_date\": \"{{$isoTimestamp}}\"\n}"
				},
				{
					"name": "Bad Request",
					"originalRequest": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/fulfillment_orders",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"fulfillment_orders"
							]
						}
					},
					"status": "Bad Request",
					"code": 400,
					"_postman_previewlanguage": "text",
					"header": [],
					"cookie": [],
					"body": "Bad Request. The request body is invalid or missing required fields."
				},
				{
					"name": "Conflict",
					"originalRequest": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/fulfillment_orders",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"fulfillment_orders"
							]
						}
					},
					"status": "Conflict",
					"code": 409,
					"_postman_previewlanguage": "text",
					"header": [],
					"cookie": [],
					"body": "Conflict. A fulfillment order with the provided `seller_fulfillment_order_id` already exists."
				}
			]
		},
		{
			"name": "Get Fulfillment Order by ID",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "http://localhost:8080/fulfillment_orders/{{order_id}}",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						"fulfillment_orders",
						"{{order_id}}"
					]
				},
				"description": "Retrieves the current state and details of a specific fulfillment order using its system-generated unique ID."
			},
			"response": [
				{
					"name": "OK",
					"originalRequest": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://api.example.com/fulfillment/order_management/v1/fulfillment_orders/{{order_id}}",
							"protocol": "https",
							"host": [
								"api",
								"example",
								"com"
							],
							"path": [
								"fulfillment",
								"order_management",
								"v1",
								"fulfillment_orders",
								"{{order_id}}"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n  \"order_id\": \"{{$guid}}\",\n  \"seller_fulfillment_order_id\": \"seller-{{$guid}}\",\n  \"displayable_order_id\": \"cust-{{$randomAlphaNumeric}}\",\n  \"displayable_order_date\": \"{{$isoTimestamp}}\",\n  \"displayable_order_comment\": \"{{$randomCatchPhrase}}\",\n  \"shipping_speed_category\": \"STANDARD\",\n  \"destination_address\": {\n    \"name\": \"{{$randomFullName}}\",\n    \"address_line_1\": \"{{$randomStreetAddress}}\",\n    \"address_line_2\": \"Unit {{$randomInt}}\",\n    \"city\": \"{{$randomCity}}\",\n    \"state_or_region\": \"{{$randomState}}\",\n    \"postal_code\": \"{{$randomZipCode}}\",\n    \"country_code\": \"{{$randomCountryCode}}\"\n  },\n  \"status\": \"RECEIVED\",\n  \"items\": [\n    {\n      \"seller_sku\": \"{{seller_sku}}\",\n      \"seller_fulfillment_order_item_id\": \"line-item-{{$guid}}\",\n      \"quantity\": 2,\n      \"gift_message\": \"{{$randomCatchPhrase}}\",\n      \"displayable_comment\": \"{{$randomLoremSentence}}\"\n    }\n  ],\n  \"received_date\": \"{{$isoTimestamp}}\"\n}"
				},
				{
					"name": "Not Found",
					"originalRequest": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://api.example.com/fulfillment/order_management/v1/fulfillment_orders/{{order_id}}",
							"protocol": "https",
							"host": [
								"api",
								"example",
								"com"
							],
							"path": [
								"fulfillment",
								"order_management",
								"v1",
								"fulfillment_orders",
								"{{order_id}}"
							]
						}
					},
					"status": "Not Found",
					"code": 404,
					"_postman_previewlanguage": "text",
					"header": [],
					"cookie": [],
					"body": "Not Found. No fulfillment order found with the given ID."
				}
			]
		},
		{
			"name": "Cancel a Fulfillment Order",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"cancellation_reason\": \"Customer requested cancellation\"\n}"
				},
				"url": {
					"raw": "http://localhost:8080/fulfillment_orders/{{order_id}}/cancel",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						"fulfillment_orders",
						"{{order_id}}",
						"cancel"
					]
				},
				"description": "Requests the cancellation of a fulfillment order. Cancellation is only possible if the order has not yet been shipped."
			},
			"response": [
				{
					"name": "Accepted",
					"originalRequest": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "https://api.example.com/fulfillment/order_management/v1/fulfillment_orders/{{order_id}}/cancel",
							"protocol": "https",
							"host": [
								"api",
								"example",
								"com"
							],
							"path": [
								"fulfillment",
								"order_management",
								"v1",
								"fulfillment_orders",
								"{{order_id}}",
								"cancel"
							]
						}
					},
					"status": "Accepted",
					"code": 202,
					"_postman_previewlanguage": "text",
					"header": [],
					"cookie": [],
					"body": "Accepted. The cancellation request has been accepted and is being processed."
				},
				{
					"name": "Bad Request",
					"originalRequest": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "https://api.example.com/fulfillment/order_management/v1/fulfillment_orders/{{order_id}}/cancel",
							"protocol": "https",
							"host": [
								"api",
								"example",
								"com"
							],
							"path": [
								"fulfillment",
								"order_management",
								"v1",
								"fulfillment_orders",
								"{{order_id}}",
								"cancel"
							]
						}
					},
					"status": "Bad Request",
					"code": 400,
					"_postman_previewlanguage": "text",
					"header": [],
					"cookie": [],
					"body": "Bad Request. The order is not in a state that allows cancellation (e.g., already shipped)."
				},
				{
					"name": "Not Found",
					"originalRequest": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "https://api.example.com/fulfillment/order_management/v1/fulfillment_orders/{{order_id}}/cancel",
							"protocol": "https",
							"host": [
								"api",
								"example",
								"com"
							],
							"path": [
								"fulfillment",
								"order_management",
								"v1",
								"fulfillment_orders",
								"{{order_id}}",
								"cancel"
							]
						}
					},
					"status": "Not Found",
					"code": 404,
					"_postman_previewlanguage": "text",
					"header": [],
					"cookie": [],
					"body": "Not Found. No fulfillment order found with the given ID."
				}
			]
		}
	],
	"variable": [
		{
			"key": "order_id",
			"value": "550e8400-e29b-41d4-a716-446655440000",
			"type": "string",
			"description": "The unique system-generated identifier for the fulfillment order"
		},
		{
			"key": "idempotency_key",
			"value": "{{$guid}}",
			"type": "string",
			"description": "Unique key supplied by the client to make the create call idempotent"
		},
		{
			"key": "seller_sku",
			"value": "BOOK-PB-001",
			"type": "string",
			"description": "SKU of a catalog product to use when creating fulfillment orders; update to any valid SKU from the product catalog."
		}
	]
}
